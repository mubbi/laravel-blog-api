parameters:
    level: 10

    paths:
        - app/

    excludePaths:
        - vendor/*

    reportUnmatchedIgnoredErrors: false

    ignoreErrors:
        - '#Call to an undefined method Illuminate\\.*#'
        - '#Access to an undefined property Illuminate\\.*#'
        - '#PHPDoc tag @var#'
        # Ignore missingType.generics and return.type for Eloquent HasFactory and Relations
        - '#uses generic trait Illuminate\\Database\\Eloquent\\Factories\\HasFactory but does not specify its types#'
        - '#should return Illuminate\\Database\\Eloquent\\Relations\\BelongsTo<.*> but returns Illuminate\\Database\\Eloquent\\Relations\\BelongsTo<.*>\.#'
        - '#should return Illuminate\\Database\\Eloquent\\Relations\\HasMany<.*> but returns Illuminate\\Database\\Eloquent\\Relations\\HasMany<.*>\.#'
        - '#@use has invalid value \(HasFactory<.*>\):#'
        # Ignore false positives for promoted properties in constructors
        - '#Property .* is never read, only written\.#'
        # Ignore response macro issues
        - '#Method .* should return .* but return statement is missing\.#'
        # Ignore dynamic properties for auth tokens
        - '#Access to an undefined property App\\Models\\User::\$(access_token|refresh_token|access_token_expires_at|refresh_token_expires_at)\.#'
        - '#Cannot call method toISOString\(\) on mixed\.#'
        # Ignore safe config casting
        - '#Cannot cast mixed to int\.#'

includes:
    - vendor/larastan/larastan/extension.neon
    - vendor/nesbot/carbon/extension.neon
